<!-- index.html (static) -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Summarizer</title>
  <style>
    body{font-family:Inter,system-ui,Segoe UI,Arial;max-width:900px;margin:40px auto}
    textarea{width:100%;height:220px;padding:12px;border-radius:8px;border:1px solid #ddd}
    button{background:#6f42c1;color:white;padding:10px 16px;border-radius:8px;border:none;cursor:pointer}
  </style>
</head>
<body>
  <h1>Summarizer</h1>
  <textarea id="text" placeholder="Paste text or a URL here..."></textarea>
  <div style="margin-top:12px">
    <button onclick="send()">Summarize</button>
  </div>
  <h3>Summary</h3>
  <div id="out" style="white-space:pre-wrap;background:#f7f7fb;padding:12px;border-radius:8px"></div>

  <script>
    async function send(){
      const text = document.getElementById('text').value;
      document.getElementById('out').innerText = "Working...";
      try {
        const res = await fetch('/summarize', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({text})
        });
        const j = await res.json();
        document.getElementById('out').innerText = j.summary || 'No summary';
      } catch (e){
        document.getElementById('out').innerText = 'Error: '+e;
      }
    }
  </script>
</body>
</html>
